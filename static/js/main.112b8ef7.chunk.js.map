{"version":3,"sources":["Api/peopleApi.js","components/home.js","components/person.js","components/peopleList.js","App.js","index.js"],"names":["getPeople","fetch","then","response","ok","json","catch","Home","react_default","a","createElement","Person","_ref","person","history","location","className","sex","onClick","push","pathname","concat","name","replace","toLowerCase","search","id","born","century","died","age","mother","father","children","PeopleList","people","path","useRouteMatch","useLocation","useHistory","searchParams","URLSearchParams","value","get","sortedPeople","results","filter","trim","includes","toLocaleLowerCase","sortBy","Object","toConsumableArray","sort","b","localeCompare","historyPush","debounce","toString","sortPeople","param","set","react_router","Fragment","type","placeholder","onChange","event","target","map","components_person","key","App","_useState","useState","_useState2","slicedToArray","setPeople","useEffect","peopleFromServer","regenerator_default","async","_context","prev","next","awrap","sent","i","objectSpread2","Math","ceil","child","item","join","stop","fetchPeople","react_router_dom","exact","to","home","render","props","peopleList","assign","ReactDOM","basename","src_App_0","test","document","getElementById"],"mappings":"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","file":"static/js/main.112b8ef7.chunk.js","sourcesContent":["// eslint-disable-next-line max-len\nconst getPeople = () => fetch('https://mate-academy.github.io/react_people-table/api/people.json')\n  .then(response => (response.ok ? response.json() : []))\n  .catch(() => 'Error');\n\nexport default getPeople;\n","import React from 'react';\n\nfunction Home() {\n  return (\n    <div>\n      <h2>Home</h2>\n    </div>\n  );\n}\n\nexport default Home;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Person = ({ person, history, location }) => (\n  <tr\n    className={person.sex === 'f' ? 'female' : 'male'}\n    onClick={() => {\n      history.push({\n        pathname: `/people/${person.name.replace(/\\s/g, '_').toLowerCase()}`,\n        search: location.search,\n      });\n    }}\n  >\n\n    <td>{person.id}</td>\n    <td\n      className={person.born < 1650 ? 'early1650 person__name' : 'person__name'}\n    >\n      {person.name}\n    </td>\n    <td>{person.sex}</td>\n    <td>{person.century}</td>\n    <td>{person.born}</td>\n    <td>{person.died}</td>\n    <td\n      className={person.age >= 65\n        ? 'older_65'\n        : ''}\n    >\n      {person.age}\n    </td>\n    <td>{person.mother}</td>\n    <td>{person.father}</td>\n    <td>{person.children}</td>\n  </tr>\n);\n\nPerson.propTypes = {\n  person: PropTypes.shape({\n    name: PropTypes.string,\n    sex: PropTypes.string,\n    born: PropTypes.number,\n    died: PropTypes.number,\n    father: PropTypes.string,\n    mother: PropTypes.string,\n    id: PropTypes.number,\n    age: PropTypes.number,\n    century: PropTypes.number,\n    children: PropTypes.string,\n  }).isRequired,\n  history: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.object,\n    PropTypes.func,\n  ])).isRequired,\n  location: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.object,\n  ])).isRequired,\n};\n\nexport default Person;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n// eslint-disable-next-line import/order\nimport {\n  Route,\n  useHistory,\n  useLocation,\n  useRouteMatch,\n} from 'react-router-dom';\nimport debounce from 'lodash/debounce';\nimport Person from './person';\n\nconst PeopleList = ({ people }) => {\n  const { path } = useRouteMatch();\n  const location = useLocation();\n  const history = useHistory();\n\n  const searchParams = new URLSearchParams(location.search);\n  const value = searchParams.get('query');\n  let sortedPeople = '';\n\n  const results = !value\n    ? people\n    : people.filter(person => (person.name.toLowerCase().trim()\n      .includes(value.toLocaleLowerCase())\n      || (person.mother !== null\n        && person.mother\n          .toLowerCase().trim().includes(value.toLocaleLowerCase()))\n      || (person.father !== null\n        && person.father\n          .toLowerCase().trim().includes(value.toLocaleLowerCase()))\n    ));\n\n  const sortBy = searchParams.get('sortBy');\n\n  if (sortBy) {\n    sortedPeople\n      = (typeof people[0][sortBy] === 'number'\n      || typeof people[0][sortBy] === 'boolean')\n        ? [...results]\n          .sort((a, b) => (a[sortBy] - b[sortBy])\n          * (searchParams.get('sortOrder') === 'asc' ? 1 : -1))\n        : [...results]\n          .sort((a, b) => (a[sortBy].localeCompare(b[sortBy]))\n          * (searchParams.get('sortOrder') === 'asc' ? 1 : -1));\n  } else {\n    sortedPeople = results;\n  }\n\n  const historyPush = debounce(() => {\n    history.push({ search: searchParams.toString() });\n  }, 1000);\n\n  const handlerInput = (event) => {\n    searchParams.set('query', event.target.value.trim().toLowerCase());\n    historyPush();\n  };\n\n  const sortPeople = (param) => {\n    searchParams.set('sortBy', param);\n\n    if (searchParams.get('sortBy') === param\n      && searchParams.get('sortOrder') === 'asc') {\n      searchParams.set('sortOrder', 'desc');\n    } else {\n      searchParams.set('sortOrder', 'asc');\n    }\n\n    history.push({ search: searchParams.toString() });\n  };\n\n  return (\n    <div>\n      <h2>People</h2>\n      <Route path={path}>\n\n        <>\n          <div className=\"container\">\n            <input\n              className=\"ui input\"\n              type=\"text\"\n              placeholder=\"Search...\"\n\n              onChange={handlerInput}\n            />\n          </div>\n          <table className=\"PeopleTable\">\n            <thead>\n              <tr className=\"Person\">\n                <th\n                  onClick={() => sortPeople('id')}\n                >\n                Id\n                </th>\n                <th onClick={() => sortPeople('name')}>\n                Name\n                </th>\n                <th onClick={() => sortPeople('sex')}>\n                Sex\n                </th>\n                <th onClick={() => sortPeople('century')}>\n                Century\n                </th>\n                <th onClick={() => sortPeople('born')}>\n                Born\n                </th>\n                <th onClick={() => sortPeople('died')}>\n                Died\n                </th>\n                <th onClick={() => sortPeople('age')}>\n                Age\n                </th>\n                <th onClick={() => sortPeople('mother')}>\n                Mother\n                </th>\n                <th onClick={() => sortPeople('father')}>\n                Father\n                </th>\n                <th onClick={() => sortPeople('children')}>\n                Children\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              {sortedPeople.map(person => (\n                <Person\n                  person={person}\n                  key={person.id}\n                  history={history}\n                  location={location}\n                />\n              ))}\n            </tbody>\n          </table>\n        </>\n      </Route>\n\n    </div>\n  );\n};\n\nPeopleList.propTypes = { people: PropTypes.arrayOf(PropTypes.shape({\n  name: PropTypes.string,\n  sex: PropTypes.string,\n  born: PropTypes.number,\n  died: PropTypes.number,\n  father: PropTypes.string,\n  mother: PropTypes.string,\n  id: PropTypes.number,\n  age: PropTypes.number,\n  century: PropTypes.number,\n  children: PropTypes.string,\n})).isRequired };\n\nexport default PeopleList;\n","import React, { useState, useEffect } from 'react';\nimport './App.css';\n// eslint-disable-next-line import/order\nimport {\n  Switch,\n  Route,\n  NavLink,\n} from 'react-router-dom';\nimport getPeople from './Api/peopleApi';\nimport Home from './components/home';\nimport PeopleList from './components/peopleList';\n\nconst App = () => {\n  const [people, setPeople] = useState([]);\n\n  useEffect(() => {\n    async function fetchPeople() {\n      const peopleFromServer = await getPeople();\n\n      setPeople(peopleFromServer.map((person, i) => (\n        {\n          ...person,\n          id: i + 1,\n          age: person.died - person.born,\n          century: Math.ceil(person.died / 100),\n          mother: person.mother ? person.mother : 'No Information',\n          father: person.father ? person.father : 'No Information',\n          children: peopleFromServer\n            .filter(child => child.mother === person.name\n              || child.father === person.name)\n            .map(item => (!item.name ? '---' : item.name))\n            .join(', '),\n        })));\n    }\n\n    fetchPeople();\n  }, []);\n\n  return (\n\n    <div className=\"App\">\n      <h1>People table</h1>\n\n      <section>\n        <div>\n          <nav>\n            <ul>\n              <li>\n                <NavLink\n                  exact\n                  to=\"/\"\n                  className=\"nav__link\"\n                >\n                  Home\n                </NavLink>\n              </li>\n\n              <li>\n                <NavLink\n                  to=\"/people/\"\n                  className=\"nav__link\"\n                >\n                  People\n                </NavLink>\n              </li>\n            </ul>\n          </nav>\n\n          <Switch>\n            <Route exact path=\"/\">\n              <Home />\n            </Route>\n            <Route\n              path=\"/people\"\n              render={props => (\n                <PeopleList\n                  {...props}\n                  people={people}\n                  setPeople={setPeople}\n                />\n              )}\n            />\n          </Switch>\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter basename=\"/path\">\n    <App test={123} />\n  </HashRouter>, document.getElementById('root')\n);\n"],"sourceRoot":""}