{"version":3,"sources":["Api/peopleApi.js","components/home.js","components/person.js","components/peopleList.js","App.js","index.js"],"names":["getPeople","fetch","then","response","ok","json","catch","Home","react_default","a","createElement","Person","_ref","person","history","location","className","sex","onClick","push","pathname","concat","name","replace","toLowerCase","search","id","born","react_router_dom","to","century","died","age","mother","father","children","PeopleList","people","path","useRouteMatch","useLocation","useHistory","searchParams","URLSearchParams","value","get","sortedPeople","results","filter","trim","includes","toLocaleLowerCase","sortParam","Object","toConsumableArray","sort","b","localeCompare","historyPush","debounce","toString","sortPeople","param","set","react_router","Fragment","type","placeholder","onChange","event","target","map","components_person","key","App","_useState","useState","_useState2","slicedToArray","setPeople","_useState3","_useState4","isLoad","setIsLoad","useEffect","peopleFromServer","regenerator_default","async","_context","prev","next","awrap","sent","i","objectSpread2","Math","ceil","child","item","join","stop","fetchPeople","exact","home","render","props","peopleList","assign","ReactDOM","basename","src_App_0","test","document","getElementById"],"mappings":"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","file":"static/js/main.9ef486cf.chunk.js","sourcesContent":["// eslint-disable-next-line max-len\nconst getPeople = () => fetch('https://mate-academy.github.io/react_people-table/api/people.json')\n  .then(response => (response.ok ? response.json() : []))\n  .catch(() => 'Error');\n\nexport default getPeople;\n","import React from 'react';\n\nfunction Home() {\n  return (\n    <div>\n      <h2>Home</h2>\n    </div>\n  );\n}\n\nexport default Home;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  NavLink,\n} from 'react-router-dom';\n\nconst Person = ({ person, history, location }) => (\n  <tr\n    className={person.sex === 'f' ? 'female' : 'male'}\n    onClick={() => {\n      history.push({\n        pathname: `/people/${person.name.replace(/\\s/g, '_').toLowerCase()}`,\n        search: location.search,\n      });\n    }}\n  >\n\n    <td>{person.id}</td>\n    <td\n      className={person.born < 1650 ? 'early1650 person__name' : 'person__name'}\n    >\n      <NavLink\n        to={`/people/${person.name.replace(/\\s/g, '_').toLowerCase()}`}\n        className=\"link__name\"\n      >\n        {person.name}\n      </NavLink>\n    </td>\n    <td>{person.sex}</td>\n    <td>{person.century}</td>\n    <td>{person.born}</td>\n    <td>{person.died}</td>\n    <td\n      className={person.age >= 65\n        ? 'older_65'\n        : ''}\n    >\n      {person.age}\n    </td>\n    <td>{person.mother}</td>\n    <td>{person.father}</td>\n    <td>{person.children}</td>\n  </tr>\n);\n\nPerson.propTypes = {\n  person: PropTypes.shape({\n    name: PropTypes.string,\n    sex: PropTypes.string,\n    born: PropTypes.number,\n    died: PropTypes.number,\n    father: PropTypes.string,\n    mother: PropTypes.string,\n    id: PropTypes.number,\n    age: PropTypes.number,\n    century: PropTypes.number,\n    children: PropTypes.string,\n  }).isRequired,\n  history: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.object,\n    PropTypes.func,\n  ])).isRequired,\n  location: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.object,\n  ])).isRequired,\n};\n\nexport default Person;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n// eslint-disable-next-line import/order\nimport {\n  Route,\n  useHistory,\n  useLocation,\n  useRouteMatch,\n} from 'react-router-dom';\nimport debounce from 'lodash/debounce';\nimport Person from './person';\n\nconst PeopleList = ({ people }) => {\n  const { path } = useRouteMatch();\n  const location = useLocation();\n  const history = useHistory();\n\n  const searchParams = new URLSearchParams(location.search);\n  const value = searchParams.get('query');\n  let sortedPeople = '';\n\n  const results = !value\n    ? people\n    : people.filter(person => (person.name.toLowerCase().trim()\n      .includes(value.toLocaleLowerCase())\n      || (person.mother !== null\n        && person.mother\n          .toLowerCase().trim().includes(value.toLocaleLowerCase()))\n      || (person.father !== null\n        && person.father\n          .toLowerCase().trim().includes(value.toLocaleLowerCase()))\n    ));\n\n  const sortParam = searchParams.get('sort');\n\n  if (sortParam) {\n    sortedPeople\n      = (typeof people[0][sortParam] === 'number'\n      || typeof people[0][sortParam] === 'boolean')\n        ? [...results]\n          .sort((a, b) => (a[sortParam] - b[sortParam])\n          * (searchParams.get('orderOfSorting') === 'asc' ? 1 : -1))\n        : [...results]\n          .sort((a, b) => (a[sortParam].localeCompare(b[sortParam]))\n          * (searchParams.get('orderOfSorting') === 'asc' ? 1 : -1));\n  } else {\n    sortedPeople = results;\n  }\n\n  const historyPush = debounce(() => {\n    history.push({ search: searchParams.toString() });\n  }, 1000);\n\n  const handlerInput = (event) => {\n    searchParams.set('query', event.target.value.trim().toLowerCase());\n    historyPush();\n  };\n\n  const sortPeople = (param) => {\n    searchParams.set('sort', param);\n\n    if (searchParams.get('sort') === param\n      && searchParams.get('orderOfSorting') === 'asc') {\n      searchParams.set('orderOfSorting', 'desc');\n    } else {\n      searchParams.set('orderOfSorting', 'asc');\n    }\n\n    history.push({ search: searchParams.toString() });\n  };\n\n  return (\n    <div\n      className=\"people\"\n    >\n      <h2>People</h2>\n      <Route path={path}>\n\n        <>\n          <div className=\"container\">\n            <input\n              className=\"ui input\"\n              type=\"text\"\n              placeholder=\"Search...\"\n              onChange={handlerInput}\n            />\n          </div>\n          <table className=\"PeopleTable\">\n            <thead>\n              <tr className=\"Person\">\n                <th\n                  onClick={() => sortPeople('id')}\n                >\n                Id\n                </th>\n                <th onClick={() => sortPeople('name')}>\n                Name\n                </th>\n                <th onClick={() => sortPeople('sex')}>\n                Sex\n                </th>\n                <th onClick={() => sortPeople('century')}>\n                Century\n                </th>\n                <th onClick={() => sortPeople('born')}>\n                Born\n                </th>\n                <th onClick={() => sortPeople('died')}>\n                Died\n                </th>\n                <th onClick={() => sortPeople('age')}>\n                Age\n                </th>\n                <th onClick={() => sortPeople('mother')}>\n                Mother\n                </th>\n                <th onClick={() => sortPeople('father')}>\n                Father\n                </th>\n                <th onClick={() => sortPeople('children')}>\n                Children\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              {sortedPeople.map(person => (\n                <Person\n                  person={person}\n                  key={person.id}\n                  history={history}\n                  location={location}\n                />\n              ))}\n            </tbody>\n          </table>\n        </>\n      </Route>\n\n    </div>\n  );\n};\n\nPeopleList.propTypes = { people: PropTypes.arrayOf(PropTypes.shape({\n  name: PropTypes.string,\n  sex: PropTypes.string,\n  born: PropTypes.number,\n  died: PropTypes.number,\n  father: PropTypes.string,\n  mother: PropTypes.string,\n  id: PropTypes.number,\n  age: PropTypes.number,\n  century: PropTypes.number,\n  children: PropTypes.string,\n})).isRequired };\n\nexport default PeopleList;\n","import React, { useState, useEffect } from 'react';\nimport './App.css';\n// eslint-disable-next-line import/order\nimport {\n  Switch,\n  Route,\n  NavLink,\n} from 'react-router-dom';\nimport getPeople from './Api/peopleApi';\nimport Home from './components/home';\nimport PeopleList from './components/peopleList';\n\nconst App = () => {\n  const [people, setPeople] = useState([]);\n  const [isLoad, setIsLoad] = useState(false);\n\n  useEffect(() => {\n    async function fetchPeople() {\n      const peopleFromServer = await getPeople();\n\n      setIsLoad(true);\n      setPeople(peopleFromServer.map((person, i) => (\n        {\n          ...person,\n          id: i + 1,\n          age: person.died - person.born,\n          century: Math.ceil(person.died / 100),\n          mother: person.mother ? person.mother : 'No Information',\n          father: person.father ? person.father : 'No Information',\n          children: peopleFromServer\n            .filter(child => child.mother === person.name\n              || child.father === person.name)\n            .map(item => (!item.name ? '---' : item.name))\n            .join(', '),\n        })));\n    }\n\n    fetchPeople();\n  }, []);\n\n  return (\n    <div\n      className=\"App\"\n    >\n      <h1\n        className=\"header\"\n      >\n        People table\n      </h1>\n      <section className=\"main\">\n        <nav\n          className=\"nav\"\n        >\n          <ul\n            className=\"nav__list\"\n          >\n            <li\n              className=\"nav__item\"\n            >\n              <NavLink\n                exact\n                to=\"/\"\n                className=\"nav__link\"\n              >\n                  Home\n              </NavLink>\n            </li>\n\n            <li>\n              <NavLink\n                to=\"/people/\"\n                className=\"nav__link\"\n              >\n                  People\n              </NavLink>\n            </li>\n          </ul>\n        </nav>\n\n        <Switch>\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          <Route\n            path=\"/people\"\n            render={props => (\n              isLoad\n                ? (\n                  <PeopleList\n                    {...props}\n                    people={people}\n                    setPeople={setPeople}\n                  />\n                ) : (\n                  'Loading...'\n                )\n            )}\n          />\n        </Switch>\n      </section>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter basename=\"/path\">\n    <App test={123} />\n  </HashRouter>, document.getElementById('root')\n);\n"],"sourceRoot":""}